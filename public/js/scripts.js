"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}}(),WebcamCanvas=function(){function i(e){_classCallCheck(this,i),this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),window.addEventListener("load",this.resizeCanvas),window.addEventListener("resize",this.resizeCanvas),this.initialiseVideo(),this.draw()}return _createClass(i,[{key:"resizeCanvas",value:function(){var i=window.innerWidth,e=window.innerHeight;this.canvas.width=i,this.canvas.height=e}},{key:"initialiseVideo",value:function(){var i=this;this.video=document.createElement("VIDEO"),navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(e){i.video.srcObject=e,i.video.play()})}},{key:"draw",value:function(){var i=this;this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.video&&this.drawMediaCover(this.video),window.requestAnimationFrame(function(){i.draw()})}},{key:"drawMediaCover",value:function(i){var e=this.ctx.canvas.width,t=this.ctx.canvas.height,a=e/t,n=void 0,s=void 0,r=void 0,o=void 0,c=void 0,d=void 0;"VIDEO"===i.tagName?(n=i.videoWidth,s=i.videoHeight):(n=i.width,s=i.height);var v=n/s;a>=v?(r=e,o=e/n*s,c=0,d=(t-o)/2):(r=t/s*n,o=t,c=(e-r)/2,d=0),this.ctx.drawImage(i,c,d,r,o)}}]),i}();
//# sourceMappingURL=scripts.js.map
